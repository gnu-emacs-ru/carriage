#+title: Carriage â€” Run tests

#+begin_src emacs-lisp :results output
(let* ((root (or (locate-dominating-file default-directory "lisp")
                 (locate-dominating-file default-directory "test")))
       (lisp (expand-file-name "lisp" root))
       (test (expand-file-name "test" root)))
  (add-to-list 'load-path lisp)
  (add-to-list 'load-path test)

  (require 'ert)

  ;; Load tests (explicit, so this org file is self-contained).
  (load (expand-file-name "carriage-context-count-test.el" test) nil t)
  (load (expand-file-name "carriage-ui-ctx-test.el" test) nil t)

  ;; Run Carriage tests (prefix-based).
  (ert-run-tests-batch "^carriage-"))
#+end_src
